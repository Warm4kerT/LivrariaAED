<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Projeto de Algoritmos e Estrutura de Dados-&gt; Livraria: Page − Descrição de Algoritmos</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Projeto de Algoritmos e Estrutura de Dados-&gt; Livraria
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Page − Descrição de Algoritmos </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ol type="1">
<li>Algoritmo Número 1: <div class="fragment"><div class="line">ListaCompra vendasNumPeriodo(int mes, int ano){</div>
<div class="line">    Lista P = mainLista;</div>
<div class="line">    ListaCompra final = NULL;</div>
<div class="line">    ListaCompra C = NULL;</div>
<div class="line"> </div>
<div class="line">    while(P!=NULL){</div>
<div class="line">        C = P-&gt;Cli.lista;</div>
<div class="line">        while(C!=NULL){</div>
<div class="line">            if((C-&gt;dataVenda.mes == mes) &amp;&amp; (C-&gt;dataVenda.ano == ano)){</div>
<div class="line">                final = InserirInicioCompra(C-&gt;ISBN, C-&gt;quantidade, C-&gt;precoTotal, C-&gt;dataVenda, final);</div>
<div class="line">            }</div>
<div class="line">            C = C-&gt;Prox;</div>
<div class="line">        }</div>
<div class="line">        P = P-&gt;Prox;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    return final;</div>
<div class="line">}</div>
</div><!-- fragment --> Explicação:</li>
<li>Algoritmo Número 2: <div class="fragment"><div class="line">void ultimaVendaLivro(int ISBN){</div>
<div class="line">    Lista P = mainLista;</div>
<div class="line">    ListaCompra C = NULL;</div>
<div class="line">    Data final = newData(0,0,0);</div>
<div class="line">    Data aux;</div>
<div class="line"> </div>
<div class="line">    while(P!=NULL){</div>
<div class="line">        C = P-&gt;Cli.lista;</div>
<div class="line">        while(C!=NULL){</div>
<div class="line">            if(C-&gt;ISBN == ISBN){</div>
<div class="line">                aux = C-&gt;dataVenda;</div>
<div class="line"> </div>
<div class="line">                if( aux.ano &gt; final.ano ){</div>
<div class="line">                    final = aux;</div>
<div class="line">                }else if( aux.ano == final.ano){</div>
<div class="line">                    if( aux.mes &gt; final.mes ){</div>
<div class="line">                        final = aux;</div>
<div class="line">                    }else if( aux.mes == final.mes ){</div>
<div class="line">                        if( aux.dia &gt; final.dia ){</div>
<div class="line">                            final = aux;</div>
<div class="line">                        }else if( aux.dia == final.dia ){</div>
<div class="line">                            final = aux;</div>
<div class="line">                        }</div>
<div class="line">                    }</div>
<div class="line">                }      </div>
<div class="line">            }</div>
<div class="line">            C = C-&gt;Prox;</div>
<div class="line">        } </div>
<div class="line">        P = P-&gt;Prox;      </div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    if(final.ano == 0 || final.dia == 0 || final.mes == 0){</div>
<div class="line">        printf(&quot;Nunca foi vendido!\n\n&quot;);</div>
<div class="line">    }else{</div>
<div class="line">        printf(&quot;Ultima compra do Livro %d : %d/%d/%d\n\n&quot;,ISBN,final.dia,final.mes,final.ano);</div>
<div class="line">    }      </div>
<div class="line">}</div>
</div><!-- fragment --> Explicação:</li>
<li>Algoritmo Número 3: <div class="fragment"><div class="line">void quantidadeVendidaCliente(int NIF){</div>
<div class="line">    Lista search = PesquisaPorm(mainLista,NIF);</div>
<div class="line"> </div>
<div class="line">    if(search == NULL){</div>
<div class="line">        printf(&quot;Cliente não encontrado\n\n&quot;);</div>
<div class="line">        return;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    ListaCompra C = search-&gt;Cli.lista;</div>
<div class="line">    int total = 0;</div>
<div class="line"> </div>
<div class="line">    while(C!=NULL){</div>
<div class="line">        total = total + C-&gt;quantidade;</div>
<div class="line">        C = C-&gt;Prox;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    printf(&quot;Quantidade vendida ao Cliente %d : %d\n\n&quot;,NIF,total);</div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment --> Explicação:</li>
<li>Algoritmo Número 4: <div class="fragment"><div class="line">Tree LivrosMaisVendidosK(ListaCompra L, int k){</div>
<div class="line">    ListaCompra P = L;</div>
<div class="line">    ListaCompra T = NULL, searchL = NULL;</div>
<div class="line">    Tree final, searchT;</div>
<div class="line"> </div>
<div class="line">    while(P!=NULL){</div>
<div class="line">        if(PesquisaCompra(P-&gt;ISBN,T)==1){</div>
<div class="line">            searchL = ProcurarAnteriorCompraISBN(P-&gt;ISBN,T)-&gt;Prox;</div>
<div class="line">            searchL-&gt;quantidade = searchL-&gt;quantidade + P-&gt;quantidade;</div>
<div class="line">        }else{</div>
<div class="line">            T = InserirInicioCompra(P-&gt;ISBN, P-&gt;quantidade, P-&gt;precoTotal, P-&gt;dataVenda,T);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        P = P-&gt;Prox;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    T = bubbleSortCompra(T);</div>
<div class="line"> </div>
<div class="line">    for(int i = k+1; i&gt;=0; i--){</div>
<div class="line">        searchT = searchTreeISBN(mainTree,T-&gt;ISBN);</div>
<div class="line">        final = addNodoTree(final,searchT-&gt;book);</div>
<div class="line">        if(T-&gt;Prox == NULL){</div>
<div class="line">            break;</div>
<div class="line">        }</div>
<div class="line">        T = T-&gt;Prox;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    return final;</div>
<div class="line">}</div>
</div><!-- fragment --> Explicação:</li>
<li>Algoritmo Número 5: <div class="fragment"><div class="line">int wastedLoopTree(Tree T){</div>
<div class="line"> </div>
<div class="line">    if(T==NULL){</div>
<div class="line">        return 0;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    int count = 0;</div>
<div class="line"> </div>
<div class="line">    count = count + (30 - strlen(T-&gt;book.titulo));</div>
<div class="line">    count = count + (30 - strlen(T-&gt;book.primAutor));</div>
<div class="line">    count = count + (30 - strlen(T-&gt;book.secAutor));</div>
<div class="line">    count = count + (30 - strlen(T-&gt;book.editora));</div>
<div class="line">    count = count + (30 - strlen(T-&gt;book.area));</div>
<div class="line">    count = count + (30 - strlen(T-&gt;book.idioma));</div>
<div class="line"> </div>
<div class="line">    return wastedLoopTree(T-&gt;left) + wastedLoopTree(T-&gt;right) + count;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">int wastedMemory(){</div>
<div class="line">    Lista P = mainLista;</div>
<div class="line">    Tree T = mainTree;</div>
<div class="line"> </div>
<div class="line">    int total, clientes = 0, livros = 0;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    while (P!=NULL){</div>
<div class="line">        clientes = clientes + (30 - strlen(P-&gt;Cli.Nome));</div>
<div class="line">        clientes = clientes + (30 - strlen(P-&gt;Cli.MinhaMorada.Casa));</div>
<div class="line">        clientes = clientes + (30 - strlen(P-&gt;Cli.MinhaMorada.Cidade));</div>
<div class="line"> </div>
<div class="line">        P = P-&gt;Prox;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    livros = wastedLoopTree(T);</div>
<div class="line">    </div>
<div class="line">    total = livros*sizeof(char) + clientes*sizeof(char);</div>
<div class="line">    </div>
<div class="line">    return total;</div>
<div class="line">}</div>
</div><!-- fragment --> Explicação:</li>
<li>Algoritmo Número 6: <div class="fragment"><div class="line">Cliente bigSpender(int ano, int mes){</div>
<div class="line">    Lista P = mainLista;</div>
<div class="line">    ListaCompra C = NULL;</div>
<div class="line">    Cliente bigTimeSpender;</div>
<div class="line">    float shmoney = 0, aux = 0;</div>
<div class="line"> </div>
<div class="line">    while (P!=NULL){</div>
<div class="line">        C = P-&gt;Cli.lista;</div>
<div class="line"> </div>
<div class="line">        if(C!=NULL){</div>
<div class="line">            while(C!=NULL){</div>
<div class="line">                if(C-&gt;dataVenda.ano == ano &amp;&amp; C-&gt;dataVenda.mes == mes){</div>
<div class="line">                    aux = aux + C-&gt;precoTotal;</div>
<div class="line">                }</div>
<div class="line">                </div>
<div class="line">                C = C-&gt;Prox;</div>
<div class="line">            }</div>
<div class="line">            printf(&quot;%s\n&quot;, P-&gt;Cli.Nome);</div>
<div class="line">            if(aux &gt; shmoney){</div>
<div class="line">                shmoney = aux;</div>
<div class="line">                bigTimeSpender = newCliente(0,0,&quot;NULL&quot;,newMorada(&quot;NULL&quot;,&quot;NULL&quot;,0000,000));</div>
<div class="line">                bigTimeSpender = newCliente(P-&gt;Cli.NIF,P-&gt;Cli.telefone,P-&gt;Cli.Nome,P-&gt;Cli.MinhaMorada);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        </div>
<div class="line">        P = P-&gt;Prox;</div>
<div class="line">    } </div>
<div class="line"> </div>
<div class="line">    return bigTimeSpender;</div>
<div class="line">}</div>
</div><!-- fragment --> Explicação:</li>
<li>Algoritmo Número 7: <div class="fragment"><div class="line">int numLivrosComprados(Cliente P){</div>
<div class="line">    ListaCompra C = P.lista;</div>
<div class="line">    int numL = 0;</div>
<div class="line"> </div>
<div class="line">    while(C != NULL){</div>
<div class="line">        numL = numL + C-&gt;quantidade;</div>
<div class="line">        C = C-&gt;Prox;</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    return numL;</div>
<div class="line">}</div>
</div><!-- fragment --> Explicação:</li>
<li>Algoritmo Número 8: <div class="fragment"><div class="line">Cliente maisLivrosComprados(){</div>
<div class="line">    Lista P = mainLista;</div>
<div class="line">    Cliente cli;</div>
<div class="line">    int aux = 0, final = 0;</div>
<div class="line"> </div>
<div class="line">    while(P != NULL){</div>
<div class="line">        aux = numLivrosComprados(P-&gt;Cli);</div>
<div class="line">        if(final &lt; aux){</div>
<div class="line">            final = aux;</div>
<div class="line">            cli = P-&gt;Cli;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        P = P-&gt;Prox;</div>
<div class="line">    }</div>
<div class="line">    return cli;</div>
<div class="line">}</div>
</div><!-- fragment --> Explicação:</li>
<li>Algoritmo Número 9: <div class="fragment"><div class="line">Tree KRecentesAC (Tree T, Livro l){</div>
<div class="line">    int K = 0, i;</div>
<div class="line">    Tree AC = T;</div>
<div class="line">    char AreaC[allocSize];</div>
<div class="line">    printf(&quot;Área Científca a ser pesquisada -&gt; &quot;);</div>
<div class="line">    scanf(&quot;%s&quot;, &amp;AreaC[allocSize]);</div>
<div class="line">    printf(&quot;\nIntroduza o valor &#39;k&#39; Livros mais recentes da Área pretendida&quot;);</div>
<div class="line">    scanf(&quot;%i&quot;, K);</div>
<div class="line">    while(i &lt; K - 1){</div>
<div class="line">        if(T==NULL)</div>
<div class="line">            return NULL;</div>
<div class="line">    </div>
<div class="line">        if(strcmp(l.area , AreaC[allocSize])==0){</div>
<div class="line">            printLivro(T-&gt;book);</div>
<div class="line">            i++; </div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        AC = searchTree(l, T-&gt;left);</div>
<div class="line">        if(AC!=NULL)</div>
<div class="line">            return AC;</div>
<div class="line"> </div>
<div class="line">        return searchTree(l, T-&gt;right);</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> Explicação:</li>
<li>Algoritmo Número 10: <div class="fragment"><div class="line">int contagemPorAno(Tree T, int ano){</div>
<div class="line">    if(T==NULL){</div>
<div class="line">        return 0;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    if(T-&gt;book.anoPub == ano){</div>
<div class="line">        return contagemPorAno(T-&gt;left,ano)+contagemPorAno(T-&gt;right,ano)+1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    return contagemPorAno(T-&gt;left,ano)+contagemPorAno(T-&gt;right,ano);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">int anoMaisPublicacoes(){</div>
<div class="line">    int aux = 0, num, anoFinal, anoInicial = 2010;</div>
<div class="line"> </div>
<div class="line">    while (anoInicial&lt;=2021){</div>
<div class="line">        num = contagemPorAno(mainTree,anoInicial);</div>
<div class="line"> </div>
<div class="line">        if(num&gt;aux){</div>
<div class="line">            aux = num;</div>
<div class="line">            anoFinal = anoInicial;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        ++anoInicial;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    return anoFinal;</div>
<div class="line">}</div>
</div><!-- fragment --> Explicação:</li>
<li>Algoritmo Número 11: <div class="fragment"><div class="line">int contagemAreaCientifica(Tree T, char *area){</div>
<div class="line">    if(T==NULL){</div>
<div class="line">        return 0;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    if(strcmp(T-&gt;book.area,area)==0){</div>
<div class="line">        return contagemAreaCientifica(T-&gt;left,area)+contagemAreaCientifica(T-&gt;right,area)+1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    return contagemAreaCientifica(T-&gt;left,area)+contagemAreaCientifica(T-&gt;right,area);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">void getAreas(Tree T, char **areas, int *size){</div>
<div class="line"> </div>
<div class="line">    int flag = 0;</div>
<div class="line">    int i = 0;</div>
<div class="line">    printf(&quot;%d\n&quot;,size);</div>
<div class="line">    if(T==NULL){</div>
<div class="line">        return;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    if(size!=0){</div>
<div class="line">        for(i = 0; i &lt; (size-1);++i){</div>
<div class="line">            printf(&quot;size!=0 %s\n&quot;,areas[i]);</div>
<div class="line">            if(strcmp(areas[i],T-&gt;book.area)==0){</div>
<div class="line">                flag = 1;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line"> </div>
<div class="line">    if(flag == 1){</div>
<div class="line">        getAreas(T-&gt;left,areas,size);</div>
<div class="line">        getAreas(T-&gt;right,areas,size);</div>
<div class="line">    }else{</div>
<div class="line">        printf(&quot;NOVA AREA\n&quot;);</div>
<div class="line">        areas[i+1] = (char *) malloc(allocSize*sizeof(char));</div>
<div class="line">        areas[i+1] = T-&gt;book.area;</div>
<div class="line">        size = size+1;</div>
<div class="line">        getAreas(T-&gt;left,areas,size);</div>
<div class="line">        getAreas(T-&gt;right,areas,size);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">char *areaMaisLivros(){</div>
<div class="line">    char **areas = (char**) malloc(allocSize*sizeof(char*));</div>
<div class="line">    char *areaFinal = (char*) malloc(allocSize*sizeof(char));</div>
<div class="line">    int size = 0, aux, final = 0;</div>
<div class="line">    getAreas(mainTree,areas,size);</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    printf(&quot;%d\n&quot;,size);</div>
<div class="line"> </div>
<div class="line">    for(int i = 0; i &lt; (size-1); ++i){</div>
<div class="line">        aux = contagemAreaCientifica(mainTree,areas[i]);</div>
<div class="line">        printf(&quot;%s\n&quot;,areas[i]);</div>
<div class="line">        if(aux &gt; final){</div>
<div class="line">            final = aux;</div>
<div class="line">            areaFinal = areas[i];</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    return areaFinal;</div>
<div class="line">}</div>
</div><!-- fragment --> Explicação: </li>
</ol>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
